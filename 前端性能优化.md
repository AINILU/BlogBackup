### 浏览器渲染原理

DOM(增量构建) => CSSOM => RenderTree => Layout(线框图/节点的位置和大小) => Paint

#### 资源加载
- CSS阻塞文档初次渲染
- 浏览器在CSS文件加载完在渲染
- 非关键CSS文件优化
  - 媒体查询
  - document.write() // 阻塞
  - document.creatElement() // 不阻塞
  - rel=preload onload=this.rel=stylesheet // loadCSS.js
- js阻塞出现在他后面的DOM元素
  - css会阻塞js
  - js脚本同时加载
  - defer html文档解析完在执行，严格按照html出现的顺序执行，提早脚本资源的加载
  - async 脚本不会被dom css阻塞，脚本加载完就会执行，执行不会按照html文档中出现的顺序
  -async适用于无依赖的独立资源
  -body底部
- 浏览器会等字体文件加载完在渲染
- 异步加载css文件，字体（白屏）
- 图片不会阻塞初次渲染
- 结合内联和缓存prefetch(用户首次访问时返回内联资源，并通过prefetch，请求并缓存资源，公共资源)

#### 优化关键渲染路径
- 资源体积
- 资源数量
- 资源网络来回（inline css，内联js，http2）
  - 服务器优化
  - 合理利用缓存
  - 优化网络 CDN HTTP2.0
